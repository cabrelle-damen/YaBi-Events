<div class="page-wrapper">
	<div class="content container-fluid">
		<div class="page-header">
			<div class="row align-items-center">
				<div class="col">
					<h3 class="page-title">{{ event?.name }}</h3>
					<ul class="breadcrumb">
						<li class="breadcrumb-item">
							<a [routerLink]="'/index'">Dashboard</a>
						</li>
						<li class="breadcrumb-item">
							<a [routerLink]="'/events/list-Events'">list-Events</a>
						</li>
						<li class="breadcrumb-item active">{{ event?.name }}</li>
					</ul>
				</div>
			</div>
		</div>

		<div *ngIf="event" class="event-details-container">
			<div class="event-image">
				<img [src]="event.imgUrl" alt="{{ event.name }}" />
			</div>
			<div class="event-details">
				<p><strong>Location:</strong> {{ event.eventPlace }}</p>
				<p><strong>Date:</strong> {{ event.startDate }}  {{ event.endDate }}</p> 
				<p><strong>Category:</strong> {{ event.category.name }}</p>
				<p><strong>Description:</strong> {{ event.description }}</p>
				<p *ngIf="event.pricePerSeat > 0">
					<strong>Price Per Seat:</strong> {{ event.pricePerSeat | currency }}
				</p>
				<p *ngIf="event.pricePerSeat === 0"><strong>Price:</strong> Gratuit</p>


				<button class="btn btn-primary" [disabled]="participating" (click)="participate()">
					{{ participating ? "Vous Ãªtes participant" : "Participer" }}
				</button>

				<div class="progress mt-3">
					<div class="progress-bar" role="progressbar" [style.width.%]="participationPercentage"
						[attr.aria-valuenow]="participationPercentage" aria-valuemin="0" aria-valuemax="100">
						{{ event.participants }} / {{ event.numberOfPlaces }} participants
					</div>
				</div>

			</div>
		</div>

		<div *ngIf="!event && !errorMessage" class="loading">
			Loading event details...
		</div>
		<div *ngIf="errorMessage" class="error">
			{{ errorMessage }}
		</div>
	</div>
</div>