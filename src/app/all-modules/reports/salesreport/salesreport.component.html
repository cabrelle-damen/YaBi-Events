<div class="page-wrapper">
	<div class="content container-fluid">
	  <div class="page-header">
		<div class="row align-items-center">
		  <div class="col">
			<h3 class="page-title">Sales Event</h3>
			<ul class="breadcrumb">
			  <li class="breadcrumb-item">
				<a [routerLink]="'/index'">Dashboard</a>
			  </li>
			  <li class="breadcrumb-item active">Events</li>
			</ul>
		  </div>
		</div>
	  </div>
  
	  <div class="card">
		<div class="card-body">
		  <h4>Create New Event</h4>
		  <form (ngSubmit)="createEvent(eventForm)" #eventForm="ngForm">
			<div class="form-group">
			  <label for="photo">Photo</label>
			  <input
				type="file"
				id="photo"
				(change)="onFileSelected($event)"
				required
				class="form-control"
			  />
			</div>
  
			<div *ngIf="newEvent.photo">
			  <img [src]="newEvent.photo" alt="Selected Image" class="img-thumbnail" style="max-width: 200px; max-height: 200px;" />
			</div>
  
			<div class="form-group">
			  <label for="title">Event Name</label>
			  <input
				type="text"
				id="title"
				[(ngModel)]="newEvent.title"
				name="title"
				placeholder="Event Name"
				required
				class="form-control"
				[ngClass]="{
				  'is-invalid': eventForm.submitted && !newEvent.title
				}"
			  />
			</div>
  
			<div class="form-group">
			  <label for="type">Event Type</label>
			  <select
				id="type"
				[(ngModel)]="newEvent.type"
				name="type"
				class="form-control"
				[ngClass]="{
				  'is-invalid': eventForm.submitted && !newEvent.type
				}"
			  >
				<option value="private">Private</option>
				<option value="public">Public</option>
			  </select>
			</div>
  
			<div class="form-group">
				<label for="category">Category</label>
				<select [(ngModel)]="newEvent.category">
				  <option *ngFor="let category of categories" [ngValue]="category">{{category.name}}</option>
				</select>
				
			  </div>
  
			<div class="form-group row">
			  <div class="col-md-6">
				<label for="country">Country</label>
				<select
				  id="country"
				  [(ngModel)]="newEvent.country"
				  name="country"
				  required
				  class="form-control"
				  (change)="onCountryChange()"
				  [ngClass]="{
					'is-invalid': eventForm.submitted && !newEvent.country
				  }"
				>
				  <option *ngFor="let country of countries" [value]="country">{{ country }}</option>
				</select>
			  </div>
			  <div class="col-md-6">
				<label for="city">City</label>
				<select
				  id="city"
				  [(ngModel)]="newEvent.city"
				  name="city"
				  required
				  class="form-control"
				  [ngClass]="{
					'is-invalid': eventForm.submitted && !newEvent.city
				  }"
				>
				  <option *ngFor="let city of cities" [value]="city">{{ city }}</option>
				</select>
			  </div>
			</div>
  
			<div class="form-group">
			  <label for="location">Location/Address</label>
			  <input
				type="text"
				id="location"
				[(ngModel)]="newEvent.location"
				name="location"
				placeholder="Location/Address"
				required
				class="form-control"
				[ngClass]="{
				  'is-invalid': eventForm.submitted && !newEvent.location

				}"
			  />
			</div>
  
			<div class="form-group row">
			  <div class="col-md-6">
				<label for="numberOfSeats">Number of Seats</label>
				<input
				  type="number"
				  id="numberOfSeats"
				  [(ngModel)]="newEvent.numberOfSeats"
				  name="numberOfSeats"
				  placeholder="Number of Seats"
				  required
				  class="form-control"
				  [ngClass]="{
					'is-invalid': eventForm.submitted && !newEvent.numberOfSeats
				  }"
				/>
			  </div>
			  <div class="col-md-6">
				<label for="pricePerSeat">Price Per Seat</label>
				<input
				  type="number"
				  id="pricePerSeat"
				  [(ngModel)]="newEvent.pricePerSeat"
				  name="pricePerSeat"
				  class="form-control"
				/>
			  </div>
			</div>
  
			<div class="form-group row">
			  <div class="col-md-6">
				<label for="startDate">Start Date</label>
				<input
				  type="date"
				  id="startDate"
				  [(ngModel)]="newEvent.startDate"
				  name="startDate"
				  required
				  class="form-control"
				  [ngClass]="{
					'is-invalid': eventForm.submitted && !newEvent.startDate
				  }"
				/>
			  </div>
			  <div class="col-md-6">
				<label for="endDate">End Date</label>
				<input
				  type="date"
				  id="endDate"
				  [(ngModel)]="newEvent.endDate"
				  name="endDate"
				  required
				  class="form-control"
				  [ngClass]="{
					'is-invalid': eventForm.submitted && !newEvent.endDate
				  }"
				/>
			  </div>
			</div>

			<div class="form-group row">
			  <div class="col-md-6">
				<label for="startTime">Start Time</label>
				<input
				  type="time"
				  id="startTime"
				  [(ngModel)]="newEvent.startTime"
				  name="startTime"
				  required
				  class="form-control"
				  [ngClass]="{
					'is-invalid': eventForm.submitted && !newEvent.startTime
				  }"
				/>
			  </div>
			  <div class="col-md-6">
				<label for="endTime">End Time</label>
				<input
				  type="time"
				  id="endTime"
				  [(ngModel)]="newEvent.endTime"
				  name="endTime"
				  required
				  class="form-control"
				  [ngClass]="{
					'is-invalid': eventForm.submitted && !newEvent.endTime
				  }"
				/>
			  </div>
			</div>
  
			<div class="form-group">
			  <label for="description">Description</label>
			  <textarea
				id="description"
				[(ngModel)]="newEvent.description"
				name="description"
				placeholder="Description"
				required
				class="form-control"
				[ngClass]="{
				  'is-invalid': eventForm.submitted && !newEvent.description
				}"
			  ></textarea>
			</div>
  
			<button type="submit" class="btn btn-primary">Create Event</button>
		  </form>
		</div>
	  </div>
	</div>
</div>
